============================= test session starts =============================
platform win32 -- Python 3.14.0, pytest-9.0.2, pluggy-1.6.0 -- C:\Python314\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\jeff0r\Dropbox\working\modellm
configfile: pyproject.toml
plugins: anyio-4.12.0, asyncio-1.3.0, cov-7.0.0, mock-3.15.1
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 380 items

tests/test_auth.py::TestSecureTokenManager::test_store_and_retrieve_token PASSED [  0%]
tests/test_auth.py::TestSecureTokenManager::test_retrieve_invalid_token_raises_error PASSED [  0%]
tests/test_auth.py::TestSecureTokenManager::test_clear_memory PASSED     [  0%]
tests/test_auth.py::TestSecureTokenManager::test_get_access_log PASSED   [  1%]
tests/test_auth.py::TestSecureTokenManager::test_rotate_key PASSED       [  1%]
tests/test_auth.py::TestSecureTokenManager::test_token_caching PASSED    [  1%]
tests/test_auth.py::TestSecureTokenManager::test_encryption_produces_different_output PASSED [  1%]
tests/test_auth.py::TestSecureTokenManager::test_encryption_key_is_bytes PASSED [  2%]
tests/test_client_integration.py::test_authenticate_success PASSED       [  2%]
tests/test_client_integration.py::test_authenticate_failure PASSED       [  2%]
tests/test_client_integration.py::test_token_encrypted_stored PASSED     [  2%]
tests/test_client_integration.py::test_token_access_log PASSED           [  3%]
tests/test_client_integration.py::test_client_without_credentials PASSED [  3%]
tests/test_database.py::TestDatabaseOperations::test_create_database PASSED [  3%]
tests/test_database.py::TestDatabaseOperations::test_create_database_duplicate PASSED [  3%]
tests/test_database.py::TestDatabaseOperations::test_delete_database PASSED [  4%]
tests/test_database.py::TestDatabaseOperations::test_delete_nonexistent PASSED [  4%]
tests/test_database.py::TestDatabaseOperations::test_database_exists_true PASSED [  4%]
tests/test_database.py::TestDatabaseOperations::test_database_exists_false PASSED [  5%]
tests/test_database.py::TestDatabaseOperations::test_list_databases PASSED [  5%]
tests/test_database.py::TestDatabaseOperationsIntegration::test_full_lifecycle PASSED [  5%]
tests/test_database.py::TestDatabaseOperationsIntegration::test_create_with_connect PASSED [  5%]
tests/test_database_integration.py::test_create_database PASSED          [  6%]
tests/test_database_integration.py::test_create_database_duplicate PASSED [  6%]
tests/test_database_integration.py::test_delete_database PASSED          [  6%]
tests/test_database_integration.py::test_delete_nonexistent_database PASSED [  6%]
tests/test_database_integration.py::test_database_exists_true PASSED     [  7%]
tests/test_database_integration.py::test_database_exists_false PASSED    [  7%]
tests/test_database_integration.py::test_list_databases PASSED           [  7%]
tests/test_database_integration.py::test_list_databases_empty PASSED     [  7%]
tests/test_database_integration.py::test_database_lifecycle PASSED       [  8%]
tests/test_database_integration.py::test_connect_database_creates_if_missing PASSED [  8%]
tests/test_dry_run.py::TestDryRunPromptConstruction::test_dry_run_result_initialization PASSED [  8%]
tests/test_dry_run.py::TestDryRunPromptConstruction::test_dry_run_result_to_dict PASSED [  8%]
tests/test_dry_run.py::TestDryRunPromptConstruction::test_construct_prompt_without_api_call_step1 PASSED [  9%]
tests/test_dry_run.py::TestDryRunPromptConstruction::test_construct_prompt_missing_input PASSED [  9%]
tests/test_dry_run.py::TestDryRunPromptConstruction::test_construct_prompt_with_force PASSED [  9%]
tests/test_dry_run.py::TestDryRunPromptConstruction::test_construct_prompt_invalid_step PASSED [ 10%]
tests/test_dry_run.py::TestDryRunPromptConstruction::test_construct_prompt_with_file_input PASSED [ 10%]
tests/test_dry_run.py::TestDryRunPromptConstruction::test_construct_prompt_with_different_step PASSED [ 10%]
tests/test_entities.py::TestEntity::test_entity_base_class_attributes PASSED [ 10%]
tests/test_entities.py::TestEntity::test_actor_entity_attributes PASSED  [ 11%]
tests/test_entities.py::TestEntity::test_action_entity_attributes PASSED [ 11%]
tests/test_entities.py::TestEntity::test_message_entity_attributes PASSED [ 11%]
tests/test_entities.py::TestEntity::test_data_entity_attributes PASSED   [ 11%]
tests/test_entities.py::TestEntity::test_requirement_entity_attributes PASSED [ 12%]
tests/test_entities.py::TestEntity::test_action_aggregate_attributes PASSED [ 12%]
tests/test_entities.py::TestEntity::test_message_aggregate_attributes PASSED [ 12%]
tests/test_entities.py::TestEntity::test_constraint_attributes PASSED    [ 12%]
tests/test_entities.py::TestEntity::test_category_attributes PASSED      [ 13%]
tests/test_entities.py::TestEntity::test_text_block_attributes PASSED    [ 13%]
tests/test_entities.py::TestEntity::test_concept_attributes PASSED       [ 13%]
tests/test_entities.py::TestEntity::test_spec_document_attributes PASSED [ 13%]
tests/test_entities.py::TestEntity::test_spec_section_attributes PASSED  [ 14%]
tests/test_entities.py::TestActorEntity::test_actor_creation PASSED      [ 14%]
tests/test_entities.py::TestActorEntity::test_actor_get_key_value PASSED [ 14%]
tests/test_entities.py::TestActorEntity::test_actor_to_insert_query PASSED [ 15%]
tests/test_entities.py::TestActorEntity::test_actor_to_match_query PASSED [ 15%]
tests/test_entities.py::TestActionEntity::test_action_creation PASSED    [ 15%]
tests/test_entities.py::TestActionEntity::test_action_get_key_value PASSED [ 15%]
tests/test_entities.py::TestActionEntity::test_action_to_insert_query PASSED [ 16%]
tests/test_entities.py::TestTextBlockEntity::test_text_block_creation PASSED [ 16%]
tests/test_entities.py::TestTextBlockEntity::test_text_block_get_key_value PASSED [ 16%]
tests/test_entities.py::TestTextBlockEntity::test_text_block_to_insert_query PASSED [ 16%]
tests/test_entities.py::TestEntityEscapeValues::test_escape_string PASSED [ 17%]
tests/test_entities.py::TestEntityEscapeValues::test_escape_backslash PASSED [ 17%]
tests/test_entities.py::TestEntityEscapeValues::test_escape_integer PASSED [ 17%]
tests/test_entities.py::TestEntityEscapeValues::test_escape_boolean_true PASSED [ 17%]
tests/test_entities.py::TestRelationClasses::test_messaging_relation PASSED [ 18%]
tests/test_entities.py::TestRelationClasses::test_anchoring_relation PASSED [ 18%]
tests/test_entities.py::TestRelationClasses::test_membership_relation PASSED [ 18%]
tests/test_entities.py::TestRelationClasses::test_outlining_relation PASSED [ 18%]
tests/test_entities.py::TestRelationClasses::test_categorization_relation PASSED [ 19%]
tests/test_entities.py::TestRelationClasses::test_requiring_relation PASSED [ 19%]
tests/test_entities.py::TestRelationClasses::test_constrained_by_relation PASSED [ 19%]
tests/test_entities.py::TestRelationClasses::test_message_payload_relation PASSED [ 20%]
tests/test_entities.py::TestRelationClasses::test_filesystem_relation PASSED [ 20%]
tests/test_entities.py::TestRelationClasses::test_relation_to_insert_query PASSED [ 20%]
tests/test_entities.py::TestEntityNoKeyAttr::test_entity_without_key_raises_on_get_key_value PASSED [ 20%]
tests/test_entities.py::TestEntityNoKeyAttr::test_entity_without_key_raises_on_match_query PASSED [ 21%]
tests/test_entity_manager.py::TestEntityManager::test_entity_manager_creation PASSED [ 21%]
tests/test_entity_manager.py::TestEntityManager::test_insert_entity PASSED [ 21%]
tests/test_entity_manager.py::TestEntityManager::test_put_entity PASSED  [ 21%]
tests/test_entity_manager.py::TestEntityManager::test_exists_returns_true PASSED [ 22%]
tests/test_entity_manager.py::TestEntityManager::test_exists_returns_false PASSED [ 22%]
tests/test_entity_manager.py::TestEntityManager::test_delete_entity PASSED [ 22%]
tests/test_entity_manager.py::TestEntityManager::test_escape_value_string PASSED [ 22%]
tests/test_entity_manager.py::TestEntityManager::test_escape_value_integer PASSED [ 23%]
tests/test_entity_manager.py::TestEntityManager::test_escape_value_float PASSED [ 23%]
tests/test_entity_manager.py::TestEntityManager::test_escape_value_boolean_true PASSED [ 23%]
tests/test_entity_manager.py::TestEntityManager::test_escape_value_boolean_false PASSED [ 23%]
tests/test_entity_manager.py::TestEntityManager::test_escape_value_unsupported PASSED [ 24%]
tests/test_entity_manager.py::TestEntityManagerFetch::test_fetch_one_returns_none_when_empty PASSED [ 24%]
tests/test_entity_manager.py::TestEntityManagerFetch::test_fetch_all_returns_empty_list_when_empty PASSED [ 24%]
tests/test_entity_manager.py::TestEntityManagerFetch::test_fetch_one_builds_correct_query PASSED [ 25%]
tests/test_entity_manager.py::TestEntityManagerFetch::test_fetch_all_builds_correct_query PASSED [ 25%]
tests/test_entity_manager.py::TestEntityManagerRelation::test_insert_relation_is_not_implemented PASSED [ 25%]
tests/test_prompt_pipeline/test_cli_dry_run.py::TestCLIDryRun::test_dry_run_prompt_generates_prompt_without_api_calls PASSED [ 25%]
tests/test_prompt_pipeline/test_cli_dry_run.py::TestCLIDryRun::test_dry_run_shows_metadata_without_api_calls PASSED [ 26%]
tests/test_prompt_pipeline/test_cli_dry_run.py::TestCLIDryRun::test_dry_run_with_different_step PASSED [ 26%]
tests/test_prompt_pipeline/test_cli_dry_run.py::TestCLIDryRun::test_dry_run_missing_input_shows_error PASSED [ 26%]
tests/test_prompt_pipeline/test_cli_dry_run.py::TestCLIDryRun::test_dry_run_with_force_flag PASSED [ 26%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_strategy_name PASSED [ 27%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_strategy_description PASSED [ 27%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_compression_with_anchors PASSED [ 27%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_compression_with_no_anchors PASSED [ 27%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_compression_level_1 PASSED [ 28%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_compression_level_2 PASSED [ 28%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_compression_level_3 PASSED [ 28%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_multiple_anchors_sorted PASSED [ 28%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_compression_ratio PASSED [ 29%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_decompress_not_supported PASSED [ 29%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_validate_content_with_anchors PASSED [ 29%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_validate_content_without_anchors PASSED [ 30%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_get_compression_ratio PASSED [ 30%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_get_supported_content_types PASSED [ 30%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_anchors_with_colons_in_text PASSED [ 30%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_empty_content PASSED [ 31%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_real_yaml_spec_format PASSED [ 31%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_compression_with_realistic_long_content PASSED [ 31%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_sort_key_function PASSED [ 31%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionStrategy::test_metadata_preserved PASSED [ 32%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionIntegration::test_full_workflow PASSED [ 32%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionIntegration::test_compression_level_comparison PASSED [ 32%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionIntegration::test_edge_case_multiline_text PASSED [ 32%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionIntegration::test_truncation_length_zero PASSED [ 33%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionIntegration::test_truncation_length_positive PASSED [ 33%]
tests/test_prompt_pipeline/test_compression_anchors.py::TestAnchorIndexCompressionIntegration::test_truncation_length_none_uses_level_defaults PASSED [ 33%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_strategy_name PASSED [ 33%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_strategy_description PASSED [ 34%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_compress_with_concepts_array PASSED [ 34%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_compress_with_concepts_object PASSED [ 34%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_compress_level_1_with_description_and_relationships PASSED [ 35%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_compress_level_2_with_description_only PASSED [ 35%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_compress_level_3_no_description PASSED [ 35%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_compress_with_long_description_truncation PASSED [ 35%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_compress_with_multiple_entity_types PASSED [ 36%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_compress_with_unknown_entity_type PASSED [ 36%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_compress_with_no_concepts PASSED [ 36%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_decompress_not_supported PASSED [ 36%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_validate_content_valid_json PASSED [ 37%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_validate_content_invalid_json PASSED [ 37%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_validate_content_json_object_with_concepts PASSED [ 37%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_validate_content_empty_array PASSED [ 37%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_get_compression_ratio PASSED [ 38%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_get_supported_content_types PASSED [ 38%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionStrategy::test_get_compression_ratio_for_different_levels PASSED [ 38%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionIntegration::test_full_workflow_with_real_concepts PASSED [ 38%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionIntegration::test_compression_level_comparison PASSED [ 39%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionIntegration::test_edge_case_empty_description PASSED [ 39%]
tests/test_prompt_pipeline/test_compression_concepts.py::TestConceptSummaryCompressionIntegration::test_edge_case_missing_fields PASSED [ 39%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_strategy_name PASSED [ 40%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_strategy_description PASSED [ 40%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_compression_level_1_light PASSED [ 40%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_compression_level_2_medium PASSED [ 40%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_compression_level_3_aggressive PASSED [ 41%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_compression_with_json_content PASSED [ 41%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_compression_with_markdown_content PASSED [ 41%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_compression_ratio PASSED [ 41%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_get_compression_ratio PASSED [ 42%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_get_supported_content_types PASSED [ 42%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_decompress_not_supported PASSED [ 42%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_validate_content_valid_json PASSED [ 42%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_validate_content_valid_markdown PASSED [ 43%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_validate_content_invalid PASSED [ 43%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_default_level_is_medium PASSED [ 43%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_level_1_uses_executive_summary_only PASSED [ 43%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_level_3_includes_all_layers PASSED [ 44%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_content_with_multiple_entity_types PASSED [ 44%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_json_array_content PASSED [ 44%]
tests/test_prompt_pipeline/test_compression_hierarchical.py::TestHierarchicalCompressionStrategy::test_default_level_with_no_explicit_level PASSED [ 45%]
tests/test_prompt_pipeline/test_json_validator.py::TestConceptsValidator::test_valid_actor_concept PASSED [ 45%]
tests/test_prompt_pipeline/test_json_validator.py::TestConceptsValidator::test_valid_action_concept PASSED [ 45%]
tests/test_prompt_pipeline/test_json_validator.py::TestConceptsValidator::test_valid_dataentity_concept PASSED [ 45%]
tests/test_prompt_pipeline/test_json_validator.py::TestConceptsValidator::test_invalid_json PASSED [ 46%]
tests/test_prompt_pipeline/test_json_validator.py::TestConceptsValidator::test_not_array PASSED [ 46%]
tests/test_prompt_pipeline/test_json_validator.py::TestConceptsValidator::test_missing_required_field PASSED [ 46%]
tests/test_prompt_pipeline/test_json_validator.py::TestConceptsValidator::test_invalid_actor_id PASSED [ 46%]
tests/test_prompt_pipeline/test_json_validator.py::TestConceptsValidator::test_invalid_action_id PASSED [ 47%]
tests/test_prompt_pipeline/test_json_validator.py::TestConceptsValidator::test_duplicate_ids PASSED [ 47%]
tests/test_prompt_pipeline/test_json_validator.py::TestAggregationsValidator::test_valid_aggregation PASSED [ 47%]
tests/test_prompt_pipeline/test_json_validator.py::TestAggregationsValidator::test_invalid_id_pattern PASSED [ 47%]
tests/test_prompt_pipeline/test_json_validator.py::TestAggregationsValidator::test_invalid_type PASSED [ 48%]
tests/test_prompt_pipeline/test_json_validator.py::TestAggregationsValidator::test_missing_members PASSED [ 48%]
tests/test_prompt_pipeline/test_json_validator.py::TestMessagesValidator::test_valid_message PASSED [ 48%]
tests/test_prompt_pipeline/test_json_validator.py::TestMessagesValidator::test_invalid_id_pattern PASSED [ 48%]
tests/test_prompt_pipeline/test_json_validator.py::TestMessagesValidator::test_invalid_type PASSED [ 49%]
tests/test_prompt_pipeline/test_json_validator.py::TestMessagesValidator::test_invalid_producer_consumer PASSED [ 49%]
tests/test_prompt_pipeline/test_json_validator.py::TestRequirementsValidator::test_valid_requirement PASSED [ 49%]
tests/test_prompt_pipeline/test_json_validator.py::TestRequirementsValidator::test_invalid_id_pattern PASSED [ 50%]
tests/test_prompt_pipeline/test_json_validator.py::TestRequirementsValidator::test_invalid_type PASSED [ 50%]
tests/test_prompt_pipeline/test_json_validator.py::TestRequirementsValidator::test_invalid_priority PASSED [ 50%]
tests/test_prompt_pipeline/test_json_validator.py::TestRequirementsValidator::test_empty_description PASSED [ 50%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerConfigurationValidation::test_valid_configuration_loading PASSED [ 51%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerConfigurationValidation::test_file_not_found_error PASSED [ 51%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerConfigurationValidation::test_empty_config_file_error PASSED [ 51%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerConfigurationValidation::test_invalid_yaml_syntax_error PASSED [ 51%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerConfigurationValidation::test_invalid_config_structure_error PASSED [ 52%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerConfigurationValidation::test_permission_denied_error SKIPPED [ 52%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerConfigurationValidation::test_config_file_is_directory_error PASSED [ 52%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerConfigurationValidation::test_minimal_valid_config PASSED [ 52%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerConfigurationValidation::test_error_message_includes_file_path PASSED [ 53%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_step_config PASSED [ 53%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_nonexistent_step_config PASSED [ 53%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_all_steps PASSED [ 53%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_all_step_names PASSED [ 54%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_sorted_steps PASSED [ 54%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_required_inputs PASSED [ 54%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_dependencies PASSED [ 55%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_steps_for_execution PASSED [ 55%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_prompt_file PASSED [ 55%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_output_file PASSED [ 55%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_output_type PASSED [ 56%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_json_schema PASSED [ 56%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_dev_defaults PASSED [ 56%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_validation_config PASSED [ 56%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_paths_config PASSED [ 57%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_get_prompt_with_variables PASSED [ 57%]
tests/test_prompt_pipeline/test_prompt_manager.py::TestPromptManagerStepOperations::test_create_prompt_manager_convenience_function PASSED [ 57%]
tests/test_prompt_pipeline/test_run_step_info.py::TestGetStepInfo::test_get_step_info_valid_step PASSED [ 57%]
tests/test_prompt_pipeline/test_run_step_info.py::TestGetStepInfo::test_get_step_info_missing_step PASSED [ 58%]
tests/test_prompt_pipeline/test_run_step_info.py::TestGetStepInfo::test_get_step_info_with_compression_params PASSED [ 58%]
tests/test_prompt_pipeline/test_run_step_info.py::TestGetStepInfo::test_get_step_info_with_color PASSED [ 58%]
tests/test_prompt_pipeline/test_run_step_info.py::TestGetStepInfo::test_get_step_info_with_dependencies PASSED [ 58%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayStepInfo::test_display_step_info_basic PASSED [ 59%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayStepInfo::test_display_step_info_as_json PASSED [ 59%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayStepInfo::test_display_step_info_verbose PASSED [ 59%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayInputRequirements::test_display_input_requirements_basic PASSED [ 60%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayInputRequirements::test_display_input_requirements_with_compression_params PASSED [ 60%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayInputRequirements::test_display_input_requirements_with_data_entity PASSED [ 60%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayOutputDefinitions::test_display_output_definitions_basic PASSED [ 60%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayOutputDefinitions::test_display_output_definitions_with_data_entity PASSED [ 61%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayConfigurationSettings::test_display_configuration_settings_with_model_levels PASSED [ 61%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayConfigurationSettings::test_display_configuration_settings_with_validation PASSED [ 61%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayConfigurationSettings::test_display_configuration_settings_with_dependencies PASSED [ 61%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayCliSwitches::test_display_cli_switches PASSED [ 62%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayExampleCommands::test_display_example_commands PASSED [ 62%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayDependencyAnalysis::test_display_dependency_analysis PASSED [ 62%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayVerboseExplanations::test_display_verbose_explanations_compression_strategies PASSED [ 62%]
tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayVerboseExplanations::test_display_verbose_explanations_input_sources FAILED [ 63%]

================================== FAILURES ===================================
_ TestDisplayVerboseExplanations.test_display_verbose_explanations_input_sources _
tests\test_prompt_pipeline\test_run_step_info.py:499: in test_display_verbose_explanations_input_sources
    assert any("label:output1" in call for call in calls)
E   assert False
E    +  where False = any(<generator object TestDisplayVerboseExplanations.test_display_verbose_explanations_input_sources.<locals>.<genexpr> at 0x00000197EA47BE00>)
=========================== short test summary info ===========================
FAILED tests/test_prompt_pipeline/test_run_step_info.py::TestDisplayVerboseExplanations::test_display_verbose_explanations_input_sources
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!
================== 1 failed, 238 passed, 1 skipped in 6.64s ===================
